@startuml

actor User
participant "MyApp Pod" as MyApp
participant "Redis Pod" as Redis
participant "Kakao OAuth" as Kakao

== 소셜 로그인 ==
User -> MyApp: GET /oauth2/authorization/kakao
MyApp -> Kakao: Redirect for Kakao Login
Kakao -> MyApp: Callback /login/oauth2/code/kakao
MyApp -> MyApp: (OAuth2SuccessHandler) Generate JWT
MyApp -> Redis: Save RefreshToken
MyApp -> User: Redirect /auth/success?accessToken=JWT

== JWT 사용 ==
User -> User: Store JWT (LocalStorage, etc.)
User -> MyApp: API Request (Authorization: Bearer JWT)
MyApp -> Redis: (Optional) Validate RefreshToken or check session
MyApp -> User: Return Protected Resource

@enduml